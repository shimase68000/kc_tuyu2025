<!--
  File: index.html
  Author: UG.
  Created: 2025-06-03
  Last Updated: 2025-06-27
  HTML Version: WHATWG HTML Living Standard

  License: MIT License
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to deal
  in the Software without restriction, including without limitation the rights
  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in all
  copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
-->

<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sawarabi+Gothic&display=swap" rel="stylesheet">

    <style>
        :root {
          --indent-default: 0em;
          --indent-quest_title: 0em;
          --indent-quest_subtitle: 1em;
          --indent-quest_item: 2em;
          --indent-reward_title: 0em;
          --indent-reward_item: 1em;
        }

        .indent-default {
            margin-left: var(--indent_default);
        }
        .indent-quest_title {
            margin-left: var(--indent-quest_title);
        }
        .indent-quest_subtitle {
            margin-left: var(--indent-quest_subtitle);
        }
        .indent-quest_item {
            margin-left: var(--indent-quest_item);
        }
        .indent-reward_title {
            margin-left: var(--indent-reward_title);
        }
        .indent-reward_item {
            margin-left: var(--indent-reward_item);
        }

        .marker.subtitle::before { content: "â– "; }
        .marker.remaining::before { content: "ğŸŒŸ"; }
        .marker.remind2::before { content: "âš ï¸"; }
        .marker.fin_item::before { content: "ğŸ“Š"; }
/*        .marker.item::before { content: "ğŸ”¹"; } */   /* blue diamond */
        .marker.item::before { content: "ğŸ”¸"; }    /* red diamond */

        body {
            background-color: #f3eade;
            font-family: 'Sawarabi Gothic', sans-serif;
        }
        .syutugeki_text {
            color: #ec6463;
            font-weight: normal;
        }
        .ensyu_text {
            color: #5da344;
            font-weight: normal;
        }
        .color_ivent_finish {
            color: #ff0000;
            font-weight: bold;
        }
        .color_mission_reset {
            color: #0000ff;
            font-weight: normal;
        }
        .color_remind {
            color: #ff0000;
            font-weight: bold;
        }
        .color_remind2 {
            color: #a02828;
            font-weight: normal;
        }
        .color_maxitem {
            color: #0000ff;
            font-weight: normal;
        }
        .color_r_myitem {
            color: #006000;
            font-weight: normal;
        }
        .textstyle_bold {
            font-weight: bold;
        }
        .underline-wavy_red {
            text-decoration: underline wavy red;
            text-decoration-thickness: auto;
        }
        /* æ³¢ç·šéå¯¾å¿œãªã‚‰ä¸‹ç·šã«å¤‰æ›´ã™ã‚‹ */
        @supports not (text-decoration-style: wavy) {
          .underline-wavy_red {
            text-decoration-style: solid;
          }
        }
    </style>
</head>

<body>
    <h2 id="event-title"></h2>

    <p id="tg000"></p>
    <p><span id="tg010"></span><span id="tg011"></span></p>
    <p id="tg020"></p>
    <p id="tg021"></p>

    <script>
        const STATUS_FIN = "çµ‚äº†æ—¥ç¢ºå®š"; // "çµ‚äº†æ—¥ä¸æ˜";
        const STATUS_REW = "å ±é…¬æœ‰ã‚Š"; // "å ±é…¬ä¸æ˜";

/////// ã‚¤ãƒ™ãƒ³ãƒˆæ¯ã«å¤‰æ›´ â†“â†“â†“ ã“ã“ã‹ã‚‰ â†“â†“â†“
        const ivent_name  = "è‰¦ã“ã‚Œ 2025æ¢…é›¨ã‚¤ãƒ™ãƒ³ãƒˆ ã¦ã‚‹ã¦ã‚‹åŠä¸»è¨ˆç®—";
        const ivent_name2 = "æ¢…é›¨ã‚¤ãƒ™ãƒ³ãƒˆ";

        const baseDate   = new Date("2025-05-30T05:00:00");  // ã‚¤ãƒ™ãƒ³ãƒˆé–‹å§‹æ—¥æ™‚
        const finishDate = new Date("2025-06-27T11:00:00");  // ã‚¤ãƒ™ãƒ³ãƒˆçµ‚äº†æ—¥æ™‚ï¼ˆç¢ºå®šï¼‰

        const key_myitem = "kcolle_tuyu2025_teruteru";

        const str_item_name = "ã¦ã‚‹ã¦ã‚‹åŠä¸»";
        const str_maxitem   = `æœ€å¤§${str_item_name}æ•°`;
        const str_myitem    = `ç¾åœ¨ã®${str_item_name}æ•°`;
        const str_r_myitem  = `${str_item_name}æ®‹æ•°`;
        const str_item      = "åŠä¸»";
        const str_counter_word = "ä½“";  // "å€‹";
        const str_remind2   = `ã‚¤ãƒ™ãƒ³ãƒˆçµ‚äº†å¾Œã€${str_item_name}ã¯å ±é…¬ã¨äº¤æ›å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚`;
        const str_fin_item  = `ã‚¤ãƒ™ãƒ³ãƒˆçµ‚äº†æ™‚ç‚¹ã§ã®æœ€å¤§${str_item_name}æ•°ã¯ `;
        const str_fin_item2 = ` ã¨ãªã‚‹è¦‹è¾¼ã¿ã§ã™ã€‚`;

        const exp_maxitem  = `ç¾æ™‚ç‚¹ã§å–å¾—ã§ãã‚‹${str_item_name}ã®æœ€å¤§æ•°`;
        const exp_myitem   = `ç¾æ™‚ç‚¹ã§ã‚ãªãŸãŒå–å¾—ã—ã¦ã„ã‚‹${str_item_name}æ•°ã«åˆã‚ã›ã¦ãã ã•ã„`;
        const exp_r_myitem = `å ±é…¬äº¤æ›å¾Œã®æ®‹ã‚Š${str_item_name}æ•°`;
        const exp_fin_item = `ã‚¤ãƒ™ãƒ³ãƒˆçµ‚äº†æ™‚ç‚¹ã§å–ã‚Šã“ã¼ã—ãŒãªã‹ã£ãŸå ´åˆã®${str_item_name}æ•°`;
/////// ã‚¤ãƒ™ãƒ³ãƒˆæ¯ã«å¤‰æ›´ â†‘â†‘â†‘ ã“ã“ã¾ã§ â†‘â†‘â†‘

        const remindTime = 6 * (24 * 60 * 60 * 1000);  // ãƒªãƒã‚¤ãƒ³ãƒ‰ã®è¡¨ç¤ºã¯ã‚¤ãƒ™ãƒ³ãƒˆçµ‚äº†ã® 6æ—¥å‰ã‹ã‚‰
        const s_count  = 60;  // æ™‚åˆ»è£œæ­£ã¯60ç§’æ¯

        const days = ["æ—¥æ›œæ—¥", "æœˆæ›œæ—¥", "ç«æ›œæ—¥", "æ°´æ›œæ—¥", "æœ¨æ›œæ—¥", "é‡‘æ›œæ—¥", "åœŸæ›œæ—¥"];
        const pad = (n,d) => n.toString().padStart(d, '0');

        // æ—¥é–“ä»»å‹™
        const d_quest = [
// ä»»å‹™åç§°, ã‚¢ã‚¤ãƒ†ãƒ å€‹æ•°
            "[æ¼”ç¿’]ã€æ¢…é›¨é™å®šä»»å‹™ã€‘æµ·ä¸Šè­·è¡›éšŠã€é›¨ä¸­æ¼”ç¿’ï¼", 1
        ];
        // é€±é–“ä»»å‹™
        const w_quest = [
            "[å‡ºæ’ƒ]ã€æ¢…é›¨é™å®šä»»å‹™ã€‘é›¨ã®å—è¥¿è«¸å³¶é˜²è¡›æˆ¦ï¼", 2,
            "[å‡ºæ’ƒ]ã€æ¢…é›¨æ‹¡å¼µä»»å‹™ã€‘æ¢…é›¨ã®æµ·ä¸Šè­·è¡›å¼·åŒ–ï¼2025", 3
        ];
        // æœˆé–“ä»»å‹™
        const m_quest = [
            "[å‡ºæ’ƒ]ã€æ¢…é›¨é™å®šæœˆé–“ä»»å‹™ã€‘è¥¿æ–¹æµ·åŸŸçµ±åˆä½œæˆ¦ 2025", 4
        ];
        // å˜ç™ºä»»å‹™
        const s_quest = [
        ];
        // ã‚¤ãƒ™ãƒ³ãƒˆå ±é…¬
        const item = [
// å ±é…¬åç§°, å¿…è¦ã‚¢ã‚¤ãƒ†ãƒ æ•°, å ±é…¬ä¸Šé™
            "Ho229", 22, 1,
            "ç ‚æµœã¸ã®å‡ºæ’ƒæº–å‚™æ£šã€GFCS Mk.37", 18, 1,
            "æµ·è‰²ãƒªãƒœãƒ³", 12, 1,
            "æ”¹ä¿®è³‡æx1ã€é«˜é€Ÿä¿®å¾©æx1", 1, 10
        ];

        const str_title_quest   = "ã€ä»»å‹™ã€‘";
        const str_title_daily   = "Daily";
        const str_title_weekly  = "Weekly";
        const str_title_monthly = "Monthly";
        const str_title_once    = "Once";
        const str_title_reward  = "ã€å ±é…¬ã€‘";
        const str_dropped = "å–ã‚Šã“ã¼ã—";

        // ã‚¿ã‚¤ãƒˆãƒ«è¨­å®š
        document.title = ivent_name;
        document.getElementById('event-title').textContent = ivent_name;

        let prevDays = -1;
        let myitem = 0;
        let r_myitem = 0;
        let sum = 0;
        let f_sum = 0;
        let item_count = Array(item.length / 3).fill(0);

        let t_count = 0;
        let currentDate = new Date();

        async function getCurrentDateTime() {
            try {
                const response = await fetch("https://worldtimeapi.org/api/timezone/Asia/Tokyo");
                if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
                const data = await response.json();
                return new Date(data.datetime);
            } catch (error) {
                console.error("Error fetching current date and time:", error);
                return new Date();
            }
        }

        async function calculateTimeDifference(targetDate) {
            if( --t_count < 0 ) {
                t_count = s_count;
                currentDate = await getCurrentDateTime();
            } else {
                currentDate = new Date(currentDate.getTime() + 1000);
            }
            return currentDate - targetDate;
        }

        function daycount(diffTime) {
            let days = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            let hours = Math.floor((diffTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            let minutes = Math.floor((diffTime % (1000 * 60 * 60)) / (1000 * 60));
            let seconds = Math.floor((diffTime % (1000 * 60)) / 1000);

            let days_adjust = (baseDate.getDay() + 6) % 7;
            let weeks = Math.floor((days + days_adjust) / 7) + 1;

            return{
                days:    days,
                hours:   hours,
                minutes: minutes,
                seconds: seconds,
                weeks:   weeks
            };
        }

        function monthcount(targetDate) {
            let diffMonths = (targetDate.getFullYear() - baseDate.getFullYear()) * 12;
            diffMonths += (targetDate.getMonth() - baseDate.getMonth() + 1);

            return diffMonths;
        }

        async function main() {
            let diffMs = await calculateTimeDifference(baseDate);
            let dTime = daycount( diffMs );

            let diffDays = dTime.days;
            let diffHours = dTime.hours;
            let diffMinutes = dTime.minutes;
            let diffSeconds = dTime.seconds;

            let diffMonths = monthcount( currentDate );

            let i_week = dTime.weeks;
            let i_day = (currentDate.getDay() + 6) % 7 + 1;
            let i_hours = currentDate.getHours();

            let tempDiff = finishDate - baseDate;
            dTime = daycount( tempDiff );
            if( diffMs >= tempDiff ) {
                let tempDays = diffDays;
                let tempHours = diffHours;
                let tempMinutes = diffMinutes;
                let tempSeconds = diffSeconds;

                diffDays = dTime.days;
                diffHours = dTime.hours;
                diffMinutes = dTime.minutes;
                diffSeconds = dTime.seconds;

                i_week = dTime.weeks;

                document.querySelector("#tg000").innerHTML = `<span class="color_ivent_finish">${ivent_name2}ã¯ ${diffDays + 1}æ—¥é–“é–‹å‚¬ã•ã‚Œã€çµ‚äº†ã—ã¾ã—ãŸã€‚</span> (${tempDays}.${pad(tempHours,2)}:${pad(tempMinutes,2)}:${pad(tempSeconds,2)})`
                document.querySelector("#tg010").innerHTML = "";
                document.querySelector("#tg011").innerHTML = "";
            } else {
                document.querySelector("#tg000").innerHTML = `${ivent_name2}é–‹å§‹ã‹ã‚‰ ${diffDays + 1}æ—¥ç›®ã€‚(${diffDays}.${pad(diffHours,2)}:${pad(diffMinutes,2)}:${pad(diffSeconds,2)})`
                if( i_hours >= 0 && i_hours <= 4 ) {
                    if( i_day === 1 ) {
                        document.querySelector("#tg010").innerHTML = `ç¬¬${i_week+1}é€±ã®${i_day}æ—¥ç›®ï¼ˆ${days[i_day % 7]}ï¼‰ã§ã™ã€‚`;
                    } else {
                        document.querySelector("#tg010").innerHTML = `ç¬¬${i_week}é€±ã®${i_day}æ—¥ç›®ï¼ˆ${days[i_day % 7]}ï¼‰ã§ã™ã€‚`;
                    }
                    document.querySelector("#tg011").innerHTML = `ã€€<span class="color_mission_reset">[ä»»å‹™ã®æ›´æ–°ã¯ 05:00 AM]</span>`;
                } else {
                    document.querySelector("#tg010").innerHTML = `ç¬¬${i_week}é€±ã®${i_day}æ—¥ç›®ï¼ˆ${days[i_day % 7]}ï¼‰ã§ã™ã€‚`;
                    document.querySelector("#tg011").innerHTML = "";
                }
            }

            let finDate = finishDate - baseDate;
            dTime = daycount( finDate );
            let f_Days = dTime.days;
            let f_Hours = dTime.hours;
            let f_Minutes = dTime.minutes;
            let f_Seconds = dTime.seconds;
            let f_Weeks = dTime.weeks;
            let f_Months = monthcount( finishDate );

            let r_Date = finishDate - currentDate + 1000;
            if( r_Date <= remindTime && r_Date > 0 ) {
                dTime = daycount( r_Date );
                r_Days = dTime.days;
                r_Hours = dTime.hours;
                r_Minutes = dTime.minutes;
                r_Seconds = dTime.seconds;

                document.querySelector("#tg021").innerHTML = `<span class="color_remind2 marker remind2">${str_remind2}</span>`;
                if( r_Days > 0 ) {
                    document.querySelector("#tg020").innerHTML = `<span class="color_remind">ã‚¤ãƒ™ãƒ³ãƒˆçµ‚äº†ã¾ã§ã€ã‚ã¨ ${r_Days}æ—¥ã¨${r_Hours}æ™‚é–“${pad(r_Minutes,2)}åˆ†${pad(r_Seconds,2)}ç§’ ã§ã™ã€‚</span>`;
                } else {
                    document.querySelector("#tg020").innerHTML = `<span class="color_remind">ã‚¤ãƒ™ãƒ³ãƒˆçµ‚äº†ã¾ã§ã€ã‚ã¨ ${r_Hours}æ™‚é–“${pad(r_Minutes,2)}åˆ†${pad(r_Seconds,2)}ç§’ ã§ã™ã€‚</span>`;
                }
            } else {
                document.querySelector("#tg020").innerHTML = "";
                document.querySelector("#tg021").innerHTML = "";
            }

            if (diffDays !== prevDays) {
                prevDays = diffDays;
                sum = 0;
                f_sum = 0;

                // Daily ä»»å‹™
                d_quest.forEach((_, i) => {
                    if (i % 2 === 0) {
                        let name = d_quest[i];
                        let count = d_quest[i + 1];
                        document.querySelector(`#tg10${Math.floor(i / 2)}`).innerHTML = `<span>${name}</span> : ${str_item}${count}${str_counter_word} Ã—${diffDays + 1} â‡’ <span class="textstyle_bold">${count * (diffDays + 1)}${str_counter_word}</span>`;
                        sum += count * (diffDays + 1);
                        f_sum += count * (f_Days + 1);
                    }
                });

                // Weekly ä»»å‹™
                w_quest.forEach((_, i) => {
                    if (i % 2 === 0) {
                        let name = w_quest[i];
                        let count = w_quest[i + 1];
                        document.querySelector(`#tg11${Math.floor(i / 2)}`).innerHTML = `<span>${name}</span> : ${str_item}${count}${str_counter_word} Ã—${i_week} â‡’ <span class="textstyle_bold">${count * i_week}${str_counter_word}</span>`;
                        sum += count * i_week;
                        f_sum += count * f_Weeks;
                    }
                });

                // Monthly ä»»å‹™
                m_quest.forEach((_, i) => {
                    if (i % 2 === 0) {
                        let name = m_quest[i];
                        let count = m_quest[i + 1];
                        document.querySelector(`#tg12${Math.floor(i / 2)}`).innerHTML = `<span>${name}</span> : ${str_item}${count}${str_counter_word} Ã—${diffMonths} â‡’ <span class="textstyle_bold">${count * diffMonths}${str_counter_word}</span>`;
                        sum += count * diffMonths;
                        f_sum += count * f_Months;
                    }
                });

                // å˜ç™º ä»»å‹™
                s_quest.forEach((_, i) => {
                    if (i % 2 === 0) {
                        let name = s_quest[i];
                        let count = s_quest[i + 1];
                        document.querySelector(`#tg13${Math.floor(i / 2)}`).innerHTML = `<span>${name}</span> : ${str_item}${count}${str_counter_word} â‡’ <span class="textstyle_bold">${count}${str_counter_word}</span>`;
                        sum += count;
                        f_sum += count;
                    }
                });

                myitem = isLocalStorageAvailable() ? localStorage.getItem(key_myitem) || sum : sum;
                if( myitem > sum ) myitem = sum; // myitemä¸Šé™è£œæ­£
                document.querySelector("#tg200").innerHTML = `<span class="color_maxitem marker remaining" title=${exp_maxitem}>${str_maxitem}ï¼š<span class="textstyle_bold underline-wavy_red">${sum}${str_counter_word}</span></span>`;
            }
            if( STATUS_FIN === "çµ‚äº†æ—¥ç¢ºå®š" && r_Date > 0 ) {
                document.querySelector("#tg210").innerHTML = `<span class="color_r_myitem marker fin_item" title=${exp_fin_item}>${str_fin_item}<span class="textstyle_bold underline-wavy_red">${f_sum}${str_counter_word}</span>${str_fin_item2}</span>`;
            } else {
                document.querySelector("#tg210").innerHTML = "";
            }

            if( STATUS_REW !== "å ±é…¬ä¸æ˜" ) d_tg300();

            document.querySelectorAll("p").forEach(function(p) {
                p.innerHTML = p.innerHTML.replace(/<span>\[å‡ºæ’ƒ\]/g, '<span class="syutugeki_text">[å‡ºæ’ƒ]');
            });
            document.querySelectorAll("p").forEach(function(p) {
                p.innerHTML = p.innerHTML.replace(/<span>\[æ¼”ç¿’\]/g, '<span class="ensyu_text">[æ¼”ç¿’]');
            });
        }

        function d_tg300() {
            if (isLocalStorageAvailable()) {
                localStorage.setItem(key_myitem, myitem);
            }

            do {
                r_myitem = myitem;
                let d_item = sum - myitem;
                document.querySelector("#tg300").innerHTML = `<span class="color_maxitem marker remaining" title=${exp_myitem}>${str_myitem}ï¼š
                    <span class="textstyle_bold"><button id="myitem_dec">ãƒ¼</button>
                    <span id="myitem_sum">${myitem}</span>${str_counter_word}
                    <button id="myitem_inc">ï¼‹</button></span></span>`;
                if( d_item > 0 ) {
                    document.querySelector("#tg301").innerHTML = `ã€€ï¼ˆ${str_dropped}ï¼š<span class="textstyle_bold">${d_item}${str_counter_word}</span>ï¼‰`;
                } else {
                    document.querySelector("#tg301").innerHTML = "";
                }

                // å ±é…¬è¨ˆç®—
                let jj = -1;
                item.forEach((_, i) => {
                    if(i % 3 === 0) {
                        let j = Math.floor(i / 3);
                        let cost = item[i + 1];
                        r_myitem -= item_count[j] * cost;
                        document.querySelector(`#tg31${j + 1}`).innerHTML = `${item[i]} : å¿…è¦${str_item}æ•° ${cost}${str_counter_word}ã€€
                            <button id="item_dec${j}">ãƒ¼</button>
                            <span class="textstyle_bold"><span id="item_count${j}">${item_count[j]}</span>å›äº¤æ›</span>
                            <button id="item_inc${j}">ï¼‹</button>`;
                        if(item_count[j] > 0) {
                            jj = j;
                            document.querySelector(`#tg32${j + 1}`).innerHTML = ` â‡’ <span class="textstyle_bold">${item_count[j] * item[i+1]}${str_counter_word}</span>æ¶ˆè²»`;
                        } else {
                            document.querySelector(`#tg32${j + 1}`).innerHTML = "";
                        }
                    }
                });

                if(r_myitem < 0 && jj >= 0) item_count[jj]--;

            } while( r_myitem < 0 );

            // æ®‹æ•°
            document.querySelector("#tg400").innerHTML = `<span class="color_r_myitem marker remaining" title=${exp_r_myitem}>${str_r_myitem}ï¼š<span class="textstyle_bold underline-wavy_red">${r_myitem}${str_counter_word}</span></span>`;
        }

        function isLocalStorageAvailable() {
            try {
                const testKey = "__test__";
                localStorage.setItem(testKey, "1");
                localStorage.removeItem(testKey);
                return true;
            } catch (e) {
                return false;
            }
        }

        if( STATUS_REW !== "å ±é…¬ä¸æ˜" ) {
            // ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
            document.addEventListener("click", (event) => {
                if (event.target.id === "myitem_inc" && myitem < sum) {
                    myitem++;
                } else if (event.target.id === "myitem_dec" && myitem > 0) {
                    myitem--;
                }

                for (let j = 0; j < item.length / 3; j++) {
                    if (event.target.id === `item_inc${j}` && item_count[j] < item[j * 3 + 2] && r_myitem >= item[j * 3 + 1]) {
                        item_count[j]++;
                    } else if (event.target.id === `item_dec${j}` && item_count[j] > 0) {
                        item_count[j]--;
                    }
                }

                d_tg300();
            });
        }

        if((d_quest.length + w_quest.length + m_quest.length + s_quest.length) > 0) {
            const p = document.createElement("p");
            p.textContent = `${str_title_quest}`;
            p.style.fontWeight = "bold";
            p.classList.add("indent-quest_title");
            document.body.appendChild(p);
        }
        if( d_quest.length > 0 ) {
            const p = document.createElement("p");
            p.textContent = `${str_title_daily}`;
            p.classList.add("indent-quest_subtitle");
            p.classList.add("marker", "subtitle");
            document.body.appendChild(p);
            d_quest.forEach((_, i) => {
                if(i % 2 === 0) {
                    const p = document.createElement("p");
                    p.id = `tg10${Math.floor(i / 2)}`;
                    p.classList.add("indent-quest_item");
                    document.body.appendChild(p);
                }
            });
        }
        if( w_quest.length > 0 ) {
            const p = document.createElement("p");
            p.textContent = `${str_title_weekly}`;
            p.classList.add("indent-quest_subtitle");
            p.classList.add("marker", "subtitle");
            document.body.appendChild(p);
            w_quest.forEach((_, i) => {
                if(i % 2 === 0) {
                    const p = document.createElement("p");
                    p.id = `tg11${Math.floor(i / 2)}`;
                    p.classList.add("indent-quest_item");
                    document.body.appendChild(p);
                }
            });
        }
        if( m_quest.length > 0 ) {
            const p = document.createElement("p");
            p.textContent = `${str_title_monthly}`;
            p.classList.add("indent-quest_subtitle");
            p.classList.add("marker", "subtitle");
            document.body.appendChild(p);
            m_quest.forEach((_, i) => {
                if(i % 2 === 0) {
                    const p = document.createElement("p");
                    p.id = `tg12${Math.floor(i / 2)}`;
                    p.classList.add("indent-quest_item");
                    document.body.appendChild(p);
                }
            });
        }
        if( s_quest.length > 0 ) {
            const p = document.createElement("p");
            p.textContent = `${str_title_once}`;
            p.classList.add("indent-quest_subtitle");
            p.classList.add("marker", "subtitle");
            document.body.appendChild(p);
            s_quest.forEach((_, i) => {
                if(i % 2 === 0) {
                    const p = document.createElement("p");
                    p.id = `tg13${Math.floor(i / 2)}`;
                    p.classList.add("indent-quest_item");
                    document.body.appendChild(p);
                }
            });
        }
        const p200 = document.createElement("p");
        p200.id = "tg200"
        document.body.appendChild(p200);
        const p210 = document.createElement("p");
        p210.id = "tg210"
        document.body.appendChild(p210);

        if( STATUS_REW !== "å ±é…¬ä¸æ˜" ) {
            const p300 = document.createElement("p");
            p300.innerHTML = `<span id="tg300"></span><span id="tg301"></span>`
            document.body.appendChild(p300);

            if( item.length > 0 ) {
                const p = document.createElement("p");
                p.textContent = `${str_title_reward}`;
                p.style.fontWeight = "bold";
                p.classList.add("indent-reward_title");
                document.body.appendChild(p);

                item.forEach((_, i) => {
                    if(i % 3 === 0) {
                        const p = document.createElement("p");
                        p.innerHTML = `<span id="tg31${Math.floor(i/3)+1}"></span><span id="tg32${Math.floor(i/3)+1}"></span>`;
                        p.classList.add("indent-reward_item");
                        p.classList.add("marker", "item");
                        document.body.appendChild(p);
                     }
                });
            }

            const p400 = document.createElement("p");
            p400.id = "tg400"
            document.body.appendChild(p400);
        }

        setInterval(main, 1000);
    </script>
</body>
</html>
